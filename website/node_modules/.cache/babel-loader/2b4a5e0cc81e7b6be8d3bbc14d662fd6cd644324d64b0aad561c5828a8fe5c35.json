{"ast":null,"code":"import React from'react';import logo42 from'./assets/images/logo-42.png';import darklogo42 from'./assets/images/42-dark-logo.png';import'./assets/styles/navbar.css';import{Link}from'react-router-dom';import{isThemeSet}from'./choose_theme';import{isLogged}from'./login';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const isLightTheme=isThemeSet();const userName=isLogged();console.log(userName);fetch('/database.json').then(response=>{if(!response.ok){throw new Error(`Erreur HTTP : ${response.status}`);}return response.json();}).then(data=>{console.log('Données JSON récupérées :',data);}).catch(error=>{console.error('Erreur lors de la récupération des données JSON :',error);});export function NavBar(){return/*#__PURE__*/_jsxs(\"nav\",{id:isLightTheme?'navBarLight':'navBar',children:[/*#__PURE__*/_jsx(Link,{to:\"/actions\",children:/*#__PURE__*/_jsx(\"div\",{children:\"Webserv\"})}),/*#__PURE__*/_jsx(LoginLink,{}),/*#__PURE__*/_jsx(Link,{to:\"https://42.fr/en/homepage/\",children:/*#__PURE__*/_jsx(\"img\",{id:\"navLogo\",src:isLightTheme?darklogo42:logo42,alt:\"logo-42\"})})]});}function LoginLink(){if(!userName){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"div\",{children:\"Sign in\"})})});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Hello \",userName]}),/*#__PURE__*/_jsx(LogOut,{})]});}}function LogOut(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{method:\"POST\",action:\"/logout\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"unset-cookie\",value:\"session-id\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Log out\"})]})});}","map":{"version":3,"names":["React","logo42","darklogo42","Link","isThemeSet","isLogged","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","isLightTheme","userName","console","log","fetch","then","response","ok","Error","status","json","data","catch","error","NavBar","id","children","to","LoginLink","src","alt","LogOut","method","action","type","name","value"],"sources":["/tmp/Webserv/website/src/navbar.js"],"sourcesContent":["import React from 'react';\nimport logo42 from './assets/images/logo-42.png';\nimport darklogo42 from './assets/images/42-dark-logo.png';\nimport './assets/styles/navbar.css'\nimport { Link } from 'react-router-dom';\nimport {isThemeSet} from './choose_theme';\nimport {isLogged} from './login';\n\n\nconst isLightTheme = isThemeSet();\n\nconst userName = isLogged();\nconsole.log(userName);\n\nfetch('/database.json')\n  .then((response) => {\n    if (!response.ok) {\n      throw new Error(`Erreur HTTP : ${response.status}`);\n    }\n    return response.json();\n  })\n  .then((data) => {\n    console.log('Données JSON récupérées :', data);\n  })\n  .catch((error) => {\n    console.error('Erreur lors de la récupération des données JSON :', error);\n  });\n\nexport function NavBar()\n{\n\treturn (\n\t\t<nav id={isLightTheme ? 'navBarLight' : 'navBar'} >\n\t\t\t<Link to=\"/actions\">\n\t\t\t\t<div>Webserv</div>\n\t\t\t</Link>\n\t\t\t<LoginLink />\n\t\t\t<Link to=\"https://42.fr/en/homepage/\">\n\t\t\t\t<img id='navLogo' src={isLightTheme ? darklogo42 : logo42} alt='logo-42'></img>\n\t\t\t</Link>\n\t\t</nav>\n\t)\n}\n\nfunction LoginLink()\n{\n\n  if (!userName)\n  {\n\treturn (\n\t\t<>\n\t\t\t<Link to=\"/login\">\n\t\t\t\t<div>Sign in</div>\n\t\t\t</Link>\n\t\t</>\n\t)\n  }\n  else\n  {\n\treturn (\n\t\t<>\n\t\t\t<div>Hello {userName}</div>\n\t\t\t<LogOut />\n\t\t</>\n\t)\n  }\n}\n\nfunction LogOut()\n{\n\treturn (\n\t\t<>\n\t\t<form method=\"POST\" action='/logout'>\n\t\t\t<input type=\"hidden\" name=\"unset-cookie\" value=\"session-id\" />\n\t\t\t<button type=\"submit\">Log out</button>\n\t\t</form>\n\t\t</>\n\t)\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,6BAA6B,CAChD,MAAO,CAAAC,UAAU,KAAM,kCAAkC,CACzD,MAAO,4BAA4B,CACnC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAAQC,UAAU,KAAO,gBAAgB,CACzC,OAAQC,QAAQ,KAAO,SAAS,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAGjC,KAAM,CAAAC,YAAY,CAAGR,UAAU,CAAC,CAAC,CAEjC,KAAM,CAAAS,QAAQ,CAAGR,QAAQ,CAAC,CAAC,CAC3BS,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CAErBG,KAAK,CAAC,gBAAgB,CAAC,CACpBC,IAAI,CAAEC,QAAQ,EAAK,CAClB,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,iBAAiBF,QAAQ,CAACG,MAAM,EAAE,CAAC,CACrD,CACA,MAAO,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CACxB,CAAC,CAAC,CACDL,IAAI,CAAEM,IAAI,EAAK,CACdT,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAEQ,IAAI,CAAC,CAChD,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAK,CAChBX,OAAO,CAACW,KAAK,CAAC,mDAAmD,CAAEA,KAAK,CAAC,CAC3E,CAAC,CAAC,CAEJ,MAAO,SAAS,CAAAC,MAAMA,CAAA,CACtB,CACC,mBACCjB,KAAA,QAAKkB,EAAE,CAAEf,YAAY,CAAG,aAAa,CAAG,QAAS,CAAAgB,QAAA,eAChDrB,IAAA,CAACJ,IAAI,EAAC0B,EAAE,CAAC,UAAU,CAAAD,QAAA,cAClBrB,IAAA,QAAAqB,QAAA,CAAK,SAAO,CAAK,CAAC,CACb,CAAC,cACPrB,IAAA,CAACuB,SAAS,GAAE,CAAC,cACbvB,IAAA,CAACJ,IAAI,EAAC0B,EAAE,CAAC,4BAA4B,CAAAD,QAAA,cACpCrB,IAAA,QAAKoB,EAAE,CAAC,SAAS,CAACI,GAAG,CAAEnB,YAAY,CAAGV,UAAU,CAAGD,MAAO,CAAC+B,GAAG,CAAC,SAAS,CAAM,CAAC,CAC1E,CAAC,EACH,CAAC,CAER,CAEA,QAAS,CAAAF,SAASA,CAAA,CAClB,CAEE,GAAI,CAACjB,QAAQ,CACb,CACD,mBACCN,IAAA,CAAAI,SAAA,EAAAiB,QAAA,cACCrB,IAAA,CAACJ,IAAI,EAAC0B,EAAE,CAAC,QAAQ,CAAAD,QAAA,cAChBrB,IAAA,QAAAqB,QAAA,CAAK,SAAO,CAAK,CAAC,CACb,CAAC,CACN,CAAC,CAEH,CAAC,IAED,CACD,mBACCnB,KAAA,CAAAE,SAAA,EAAAiB,QAAA,eACCnB,KAAA,QAAAmB,QAAA,EAAK,QAAM,CAACf,QAAQ,EAAM,CAAC,cAC3BN,IAAA,CAAC0B,MAAM,GAAE,CAAC,EACT,CAAC,CAEH,CACF,CAEA,QAAS,CAAAA,MAAMA,CAAA,CACf,CACC,mBACC1B,IAAA,CAAAI,SAAA,EAAAiB,QAAA,cACAnB,KAAA,SAAMyB,MAAM,CAAC,MAAM,CAACC,MAAM,CAAC,SAAS,CAAAP,QAAA,eACnCrB,IAAA,UAAO6B,IAAI,CAAC,QAAQ,CAACC,IAAI,CAAC,cAAc,CAACC,KAAK,CAAC,YAAY,CAAE,CAAC,cAC9D/B,IAAA,WAAQ6B,IAAI,CAAC,QAAQ,CAAAR,QAAA,CAAC,SAAO,CAAQ,CAAC,EACjC,CAAC,CACL,CAAC,CAEL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}