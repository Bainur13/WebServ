{"ast":null,"code":"import React,{useEffect,useState}from'react';import{NavBar}from'./NavBar';import{Footer}from'./Footer';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export function Success(){const[countdown,setCountdown]=useState(3);// Le compteur commence à 3 secondes\nconst navigate=useNavigate();useEffect(()=>{if(countdown===0){navigate('/actions');// Redirige après la fin du compte à rebours\n}else{// Décrémente le compteur chaque seconde\nconst timer=setInterval(()=>{setCountdown(prev=>prev-1);},1000);// Nettoyage du timer quand le composant est démonté ou quand le compte à rebours atteint 0\nreturn()=>clearInterval(timer);}},[countdown,navigate]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Form has been successfully treated, you will be redirected in \",countdown,\" seconds.\"]}),/*#__PURE__*/_jsx(Link,{to:\"/actions\",children:\"Go back to the action page\"})]}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"names":["React","useEffect","useState","NavBar","Footer","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Success","countdown","setCountdown","navigate","timer","setInterval","prev","clearInterval","children","to"],"sources":["/tmp/Webserv/website/src/success.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { NavBar } from './NavBar';\nimport { Footer } from './Footer';\nimport { Link, useNavigate } from 'react-router-dom';\n\nexport function Success() {\n  const [countdown, setCountdown] = useState(3); // Le compteur commence à 3 secondes\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (countdown === 0) {\n      navigate('/actions'); // Redirige après la fin du compte à rebours\n    } else {\n      // Décrémente le compteur chaque seconde\n      const timer = setInterval(() => {\n        setCountdown(prev => prev - 1);\n      }, 1000);\n\n      // Nettoyage du timer quand le composant est démonté ou quand le compte à rebours atteint 0\n      return () => clearInterval(timer);\n    }\n  }, [countdown, navigate]);\n\n  return (\n    <>\n      <NavBar />\n      <main>\n        <p>Form has been successfully treated, you will be redirected in {countdown} seconds.</p>\n        <Link to='/actions'>Go back to the action page</Link>\n      </main>\n      <Footer />\n    </>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,MAAM,KAAQ,UAAU,CACjC,OAASC,MAAM,KAAQ,UAAU,CACjC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAErD,MAAO,SAAS,CAAAC,OAAOA,CAAA,CAAG,CACxB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAAC,CAAE;AAC/C,KAAM,CAAAc,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9BL,SAAS,CAAC,IAAM,CACd,GAAIa,SAAS,GAAK,CAAC,CAAE,CACnBE,QAAQ,CAAC,UAAU,CAAC,CAAE;AACxB,CAAC,IAAM,CACL;AACA,KAAM,CAAAC,KAAK,CAAGC,WAAW,CAAC,IAAM,CAC9BH,YAAY,CAACI,IAAI,EAAIA,IAAI,CAAG,CAAC,CAAC,CAChC,CAAC,CAAE,IAAI,CAAC,CAER;AACA,MAAO,IAAMC,aAAa,CAACH,KAAK,CAAC,CACnC,CACF,CAAC,CAAE,CAACH,SAAS,CAAEE,QAAQ,CAAC,CAAC,CAEzB,mBACEN,KAAA,CAAAE,SAAA,EAAAS,QAAA,eACEb,IAAA,CAACL,MAAM,GAAE,CAAC,cACVO,KAAA,SAAAW,QAAA,eACEX,KAAA,MAAAW,QAAA,EAAG,gEAA8D,CAACP,SAAS,CAAC,WAAS,EAAG,CAAC,cACzFN,IAAA,CAACH,IAAI,EAACiB,EAAE,CAAC,UAAU,CAAAD,QAAA,CAAC,4BAA0B,CAAM,CAAC,EACjD,CAAC,cACPb,IAAA,CAACJ,MAAM,GAAE,CAAC,EACV,CAAC,CAEP","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}